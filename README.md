# Three-Body Problem Simulation (Web Version)

![License](https://img.shields.io/badge/license-MIT-blue.svg)

一个运行在浏览器中的三体运动模拟器。基于刘慈欣科幻小说《三体》的灵感，使用 HTML5 Canvas 和 JavaScript 原生实现。

本项目不仅仅是天体物理模拟，还包含了一个"文明生存模拟"系统，模拟位于三体系统中一颗行星上的文明，在乱纪元与恒纪元交替中的生存历程。

## 🌟 主要特性 (Features)

### 物理模拟
- **真 3D 物理引擎**：使用 **Runge-Kutta 4阶积分法 (RK4)** 进行 N 体引力解算，保证了模拟的高精度和稳定性。
- **自定义初始条件**：支持随机生成，或使用经典的三体结构预设（如"一大两小"、"三星同质"等）。
- **3D 投影渲染**：不依赖 WebGL 库，使用原生 Canvas 2D API 手写 3D 投影矩阵，实现独特的视觉风格。

### 文明模拟系统
- **生存判定**：实时计算行星表面温度。
  - **宜居带 (恒纪元)**：273K - 373K (0°C - 100°C)
  - **灭绝条件**：
    - ❄️ 永久冰封 (< 150K)
    - 🔥 焚烧殆尽 (> 500K)
    - 🌌 潮汐力撕碎 (突破洛希极限)
    - ☄️ 坠入恒星或被抛出星系
- **文明演化**：根据文明存续时间，从"原始部落"逐步演化至"神级文明"。
- **排行榜**：记录历史上存活时间最长的文明及其毁灭原因，支持复现历史文明的初始状态。

## 🎮 操作说明 (Controls)

### 视角控制
- **旋转**：按住 **鼠标左键** 拖拽
- **平移**：按住 **鼠标右键** 拖拽
- **缩放**：滚动 **鼠标滚轮**

### 模拟控制
- **速度调节**：通过滑块或倍速按钮 (1x - 1000x) 调整时间流逝速度。
- **重置**：生成新的随机三体系统。
- **视角预设**：快速切换 XY/XZ/YZ 平面视图。

## 🔧 技术细节

- **核心算法**: Newton's Law of Universal Gravitation + RK4 Integrator
- **技术栈**: 原生 HTML5 / CSS3 / JavaScript (ES6+)
- **依赖**: 无任何第三方依赖，单文件即可运行。

## 🚀 如何运行

1. 下载 `three-body-simulation.html` 文件。
2. 直接使用现代浏览器（Chrome, Edge, Firefox, Safari）打开即可。

---

## 📝 物理设定 (Physics Settings)

为了增强模拟的观赏性，对部分物理常数进行了视觉上的调整：
- **距离单位**: 使用天文单位 (AU)。
- **光度模型**: 恒星光度 $L \propto M^{3.5}$。
- **温度模型**: 基于斯特藩-玻尔兹曼定律计算黑体辐射平衡温度。

## 📄 License

MIT License
